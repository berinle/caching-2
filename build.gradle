apply plugin:'groovy'
apply plugin:'idea'
apply plugin:'eclipse'

repositories { mavenCentral() }

dependencies {
    groovy 'org.codehaus.groovy:groovy-all:1.8.4'
	compile 'org.hibernate:hibernate-annotations:3.5.6-Final', 
	//'net.sf.ehcache:ehcache:2.5.0',
	'com.h2database:h2:1.3.163',
	'org.spockframework:spock-core:0.5-groovy-1.8',
	'org.slf4j:slf4j-log4j12:1.6.4',
	'javassist:javassist:3.12.1.GA',
	'p6spy:p6spy:1.3'
	
	compile ('net.sf.ehcache:ehcache:2.5.1'){
		exclude module:'ehcache-terracotta'
	}
}

task makeDirs(description:'make all dirs for project setup') << {
    def sources = [sourceSets.main, sourceSets.test]
    sources*.allSource*.srcDirs.flatten().each { File srcDir ->
        println "making $srcDir"
        srcDir.mkdirs()
    } 
}

task wrap(type:Wrapper, description:"create a gradlew") {
    gradleVersion = '1.0-milestone-9'
}